
=============================================
Лабораторна робота №9
=============================================

Тема
----------

Додавання кеш-пам'яті до конвеєрного RISC ядра.



Хід роботи
----------


**Завдання.**
Завданням було прикрутити до конвеєрного ядра з 8 лаби кеш даних як посередник між пам'яттю даних та процесором.
Тип кешу не задавався, тому я вирішив зробити асоціативний кеш.




**Створення проекту.** Проект було вирішено реалізувати на HDL SystemVerilog, як більш функціональному наступнику Verilog. 
Він складається з багатьох модулів, що описані в декількох файлах. У якості модуля використовувався також ALU, GPIO та решта модулiв MIPS з минулої лабораторної. 



**Що зроблено.**
Усі вимоги, зазначені у специфікації, було виконано. Пам'ять даних було вирішено зробити з 128-бітною шиною даних
для виконання транзакцій в кеш за один такт. Кеш 4-слівний, 2 лінії на модуль, 4-асоціативний, слово 32 біти. 
політика витіснення LRU, працює за 1 такт при попаданні
та 2 такти при промаху. 
На своєму асемблері переписав програму сортування з 6 лаби та перевірив в Incisive, що все працює як треба.


.. image:: media/rtl.png
Так виглядає RTL схема mips, написаного на SystemVerilog.

.. image:: media/characteristics.png
Так виглядають ресурси використані у цьому ядрі.


Висновки
-----------

Під час виконання лабораторної роботи я конвеєризував своє однотактне MIPS подібне ядро відповідно до специфікації, написав свій асемблер
для своєї архітектури на C i ``flex/bison``. Переписав на ньому програму з 7 лаби та перевірив у симуляції. Конвеєризація процесора виявилася досить складною,
проте вона дала значний виграш у продуктивності без значних витрат ресурсів.





